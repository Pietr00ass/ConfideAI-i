<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}ConfideAI{% endblock %}</title>

  <!-- Lottie Player -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- Podstawowy CSS -->
  <link rel="stylesheet" href="/static/css/style.css">

  <!-- AOS -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
</head>
<body>

  <!-- Loader -->
  <div id="loader-overlay">
    <div id="container">
      <div id="html-spinner"></div>
      <p id="html-para">Ładowanie aplikacji…</p>
    </div>
  </div>

  <!-- Nawigacja -->
  {% include "nav.html" %}

  <!-- Główna zawartość -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer>
    <p>© 2025 ConfideAI — Wszystkie prawa zastrzeżone.</p>
  </footer>

  <!-- Skrypty zewnętrzne -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/rellax@1.12.1/rellax.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>

  <script>
    // 1. Ukryj loader po załadowaniu
    window.addEventListener('load', () => {
      document.getElementById('loader-overlay').style.display = 'none';
    });

    // 2. Inicjalizacja AOS
    AOS.init({ duration: 800, once: true });

    // 3. Inicjalizacja parallax (Rellax)
    new Rellax('.rellax', { speed: -2 });

    // 4. Particles.js
    particlesJS.load('particles-js', '/static/particles.json');

    // 5. Back to Top (opcjonalnie, jeśli masz przycisk)
    const backBtn = document.getElementById('back-to-top');
    if (backBtn) {
      window.addEventListener('scroll', () => {
        backBtn.style.display = window.scrollY > 300 ? 'block' : 'none';
      });
      backBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // 6. Vanta per sekcja
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll('[data-vanta]').forEach(sec => {
        const type = sec.dataset.vanta.toLowerCase();
        const opts = { el: sec, backgroundColor: 0x000000 };
        if (type === 'net') {
          Object.assign(opts, { color: 0x222222, maxDistance:20, spacing:15, showDots:false });
          VANTA.NET(opts);
        } else if (type === 'birds') {
          VANTA.BIRDS(Object.assign(opts, { backgroundAlpha: 0.0 }));
        } else if (type === 'dots') {
          VANTA.DOTS(Object.assign(opts, { color:0x444444, size:2.0, spacing:30.0 }));
        }
        // Możesz dodać kolejne efekty: WAVES, LINES, GLOBE...
      });
    });
  </script>
</body>
</html>
